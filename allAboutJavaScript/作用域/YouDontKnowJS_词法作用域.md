## 基本概念
词法作用域就是定义在词法阶段的作用域，由写代码时变量和块作用域的位置决定（存在一些欺骗词法作用域的方法）

#### 2.1词法阶段
作用域会在找到第一个匹配的标识符时停止，通过window.a可以访问到被同名变量遮蔽的全局变量，非全局变量被遮蔽则无法访问
> 函数的词法作用域只由被声明时的位置决定；词法作用域只负责查找一级标识符如果访问foo.bar则，只负责foo的查找，找到后由对象属性访问规则接管

#### 2.2欺骗词法(不推荐)
1. eval:执行动态创建的代码
```
function foo(str,a){
    eval(str);
    console.log(a,b);
}
var b=2;
foo("var b=3",1);//1 3
``` 
严格模式下，eval有自己的词法作用域（即其中的声明无法改变所在作用域）
> js中动态生成代码很罕见，因为带来的好处无法抵消性能损失

2. with：用于重复引用同一对象的多个属性
```
function foo(obj){
    with(obj){
        a=2;
    }
}
var o1={a:3};
var o2={b:2};
foo(o1);
foo(o2);
console.log(o1.a)//2
console.log(o2.a)//undefined
console.log(a)//2
```
with把一个对象处理为完全隔离的词法作用域，对于其中的声明，不会被限制，因此对于o2,进行了正常的LHS,自动创建了一个全局变量；with在严格模式下禁用

3. 性能
js引擎在编译阶段进行数项性能优化，部分优化依赖于代码词法的静态分析，通过预先确定变量函数，使得执行时快速定位，出现了eval和with将可能使得优化无意义

